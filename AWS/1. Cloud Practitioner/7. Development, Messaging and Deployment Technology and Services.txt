WHAT IS CI/CD 

- What is CI/CD 
- Benefits 

- What is CI/CD
It is a Software development best practice
The idea is to Automate everything. Example - Code integration, build, test and deployment 
It makes change easy by Applying multiple small changes each day

- Benefits
Automation                          -   Fast, Repeatable and scalable
Manual Effort Avoided               -   Slow, Error prone, inconsistent Effort Avoided
Small Changes Applied frequently    -   Catch bugs while they are small and simple to fix
___________________________________________________________________________________________________________________

AWS DEPLOYMENT TOOLS 

- AWS CodeCommit
- AWS CodeBuild
- AWS CodeDeploy
- AWS CodePipeline
- Exam Tips

- AWS CodeCommit(For Merging)
Source Control service enabling terms to collaborate on code, html pages, scripts, images and binaries.
It is a central code repository just like Private git repo in the cloud

- AWS CodeBuild(For Preparing)
Compiles source code, runs tests and produces packages that are ready to deploy
It takes code from CodeCommit and use code to build deployable artifacts.
Artifacts like packages/docker images   -   .net core package, docker image, Node.js package 

- AWS CodeDeploy(For Deployment)
Automated Deploy service to deploy sofware to EC2 instances/ On Premises systems/ Lambda
Release features, avoids downtime and reduces risk with process 

- AWS CodePipeline(Overall Process)
End-to-end solution, build, test and deploy your application every time there is a code change
Automated CI/CD pipeline 
___________________________________________________________________________________________________________________

DEMO: WORKING WITH AWS CLOUDSHELL AND THE AWS CLI 

Scenario
You have been tasked with creating an S3 bucket and uploading a file. 
You would like to accomplish this using the AWS CLI running in the CloudShell instead of using the console 

1   -   Launch the CloudShell           -   Console like Icon is on top bar
                                        -   CloudShell is a browser based shell with CLI pre-installed
2   -   Use the AWS CLI                 -   'aws --version'
                                        -   'aws s3 mb s3://BucketName' (Make Bucket)
                                        -   'aws s3 ls' (List buckets)
                                        -   'echo "My new File" >> fileName.txt'
                                        -   'ls'
                                        -   'cat fileName.txt'
                                        -   'aws s3 cp fileName.txt s3://BucketName' (Copy)
                                        -   'aws s3 ls s3://BucketName'
3   -   Review the CLI Documentation    -   'aws s3 mb help'
                                        -   https://docs.aws.amazon.com/cli/latest
___________________________________________________________________________________________________________________

DEMO: USING AWS CLOUD9

Scenario 
You are a developer.
You need an IDE platform that lets you write, run and debug your code
That supports the most popular programming languages like JS, Python, Ruby, C++ and lets you run AWS CLI commands

Cloud9 is an integrated IDE that we can use inside of our browser. It comes with AWS CLI

1   -   Create a Cloud9 environment     -   Search for Cloud9 in Management Console
                                        -   Create an environment(My-IDE), New EC2, t3.small, Linux 2, Create
                                        -   We can open it through Open link and it will open IDE
2   -   Explore Cloud9 Code Editor
3   -   Run some AWS CLI commands       -   Create a S3 bucket and copy file to the bucket from IDE 
___________________________________________________________________________________________________________________

UNDERSTANDING AWS CODE ARTIFACT

It is an Artifact repository It makes it easy for developers to find the softare packages they need
A package is a bundle of software
Includes open-source and in-house developed software
It lets developer to securely store, publish and share softare packages that we need for software development process
Example -   Maven, NPM, Python packages

Scenario    -   Multiple Development Teams
Enables developers to get correct version of software packages like npm 

Artifacts includes Documentation, Compiled applications, Deployable packages and Libraries
___________________________________________________________________________________________________________________

DECOUPLING APPLICATION COMPONENTS







On console, search SNS 
Create a Topic, default settings
Subscribe to Topic. Create a subscription in Topic. Select topic, select protocol as email, enter email address, Create it
Confirm subscription from email inbox
Test Topic subscription. Search EC2 > Instances > select instance and copy instance id. Stop the instance.
Search Cloudwatch, create alarm button, create alarm, select metric and paste the instance id, select preinstance metrics, and search failed statuacheckinstance and change the period to 1 min, greater than or equal to 1, treat missing data as bad, next
Selct Topic, add notification > select ok. Add another notification insufficient data, Name alarm, create
____

INTRODUCING SIMPLE QUEUE SERVICE (SQS)

- Features
SQS is pull based 
Multiple components can add and consume messages from same queue
Messages are processed asynchronously
Guaranteed to be processed at least once 
Example - Money Transfer Application
SQS improves performance and the ability to scale and support millions of concurrent requests
SQS is a distributed message queueing system, allows us to decouple the components of an application so that they are independent 
_____

STANDARD AND FIFO QUEUES

- SQS Standard Queues(Default)
Guarantees that a message is delivered at least once 
Best-effort ordering means that the messages are generally delivered in the same order as they are sent
Occasionally more than one copy of a message might be delivered out of order

- SQS FIFO Queues
Order in which messages are sent and received is strictly preserved
Exactly one processing means duplicates are not introduced
______

SHORT POLLING VS LONG POLLING

These are setting that we can configure which define how frequently the consumers of your messages is checked
- Short Polling 
Returns a response immediately even if the message queue being polled is empty
- Long Polling
Periodically polls the queue
The queue doesn't respond until a message arrives, or the long poll times out
Fewer empty responses, hence saves money
_______

WHAT IS AMAZON SIMPLE EMAIL SERVICE (SES)

Cloud based email service that enables your application to send richly formatted Html emails 
Example - Order confirmation, Market campaign with details of new launches, soecial offers and discounts
Send emails in bulk
Track open or click-through rates
Understand the effectiveness of your campaign
_______

INTRODUCING AMAZON EVENTBRIDGE

Service that allows us to easily configure event driven systems
Define tasks that can be run on a predefined schedule

EventBridge is all about event-driven architecture
Event is a change in state 
Can be generated by AWS services like EC2, CloudWatch, CloudTrail
Rules defines some targets to be triggered like EC2, Lambda and SNS
Example - An EC2 instance reboots, causing an event to be sent to EventBridge
This triggers a rule that invokes an action to send an email using SNS

It can also be used to handle scheduled events
EventBridge rules that run on a schedule
We can set a rule to run once an hour or day or At the same time on a specfic day, week or month 
_________

UNDERSTANDING STEP FUNCTIONS

Example - Store Checkout Process
Check Inventory > Hold Product > Bill Customer
What if payment failed > Remove Hold
Each process is handled by lambda function. we can use step function to manage logic of lambda functions 
It can handle failed scenarios to send email

It provides a Visual Interface 
Build and run serverless applications as a series of steps
Each step in your application executed in order, as defined by your business logic
The output of one step may act as an input to the next 

Parallel steps
Start > Process photo > Extracts metadata, Resize image and Facial recognition > Loaded in database > End
Each process can be handled by different lambda functions and end to end by step functions

Uses 
Visualise - Great way to visualise your serverless application 
Automate - Step Functions automatically trigger and track each step
Logging - Step functions log the state of each step, so you can track what went wrong and where
_________

DEPLOYING INFRASTRUCTURE AS CODE WITH AWS CLOUDFORMATION 

IaaC - Provides Environment like combination of S3, Lambda, DynamoDB, SQS, SNS, EC2
- CloudFormation
Manage, Configure and Provision your AWS infrastructure as a code
Resources defined in a CloudFormation template(yaml/json) > CloudFormation interprets the template and makes API calls to create the resources you have defined. The result is known as CloudFormation stack
It lets us deploy AWS resources using an IaaS approach

- Uses
Consistent - Infrastructure is provisioned consistently with fewer mistakes
Quick and Efficient - Less time and effort than configuring things manually
Free to use - You are only charged for the AWS resources you create using CloudFormation
_________

CREATE A DYNAMODB TABLE USING CLOUDFORMATION 

Template - https://guthub.com/linuxacademy/content-aws-certified-cloud-practitioner/blob/main/labs/3vreate-dynamodb-table-using-cloudformation/acg-dynamodb-template.yaml

Console > CloudFormation
Create a Stack - with new resources standard > Upload template file > Stack name > Create > Create complete
Console > DynamoDB > Tables > Inventory table is there
_____________





